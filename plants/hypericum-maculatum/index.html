<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script>
  function setup() {
  createCanvas(450, 800, WEBGL);
  trunk = createGraphics(700, 700);
  leaves = createGraphics(450, 400);
  leaves.background(255, 255, 255, 0);
  leaves.randomSeed(0);
  leaves.noStroke();
  for (var i = 0; i < 400; i++) {
    var shade = 255*random();
    leaves.fill(0, shade, 0);
    var x = random()*450;
    var y = random()*400;
    leaves.ellipse(x, y, 40, 10, 6);
  }
}

function draw() {
  background("white");
  noStroke()

  const h = 700;
  trunk.background(222, 222, 222);
  trunk.randomSeed(0);
  trunk.noStroke();
  for (var i = 0; i < 100; i++) {
    var shade = 255*random();
    trunk.fill(shade, shade, shade);
    var x = random()*h;
    var y = random()*h;
    trunk.ellipse(x, y, 80, 10, 6);
  }

  rotateY(frameCount * 0.01);
  texture(trunk);
  cylinder(30, h, 24, 2, true, true);

  texture(leaves);
  rect(-225, -400, 450, 400);
  noLoop()
}

</script>
